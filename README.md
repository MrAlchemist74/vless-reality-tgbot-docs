# VLESS + Reality (Xray, VPS) + Telegram-бот — Документация проекта

**Коротко:** приватный VPN на VPS на базе **Xray (VLESS + Reality)** без домена (SNI — публичный хост) и **Telegram-бот**, который выдаёт персональные реквизиты подключения и следит за здоровьем сервиса (health-checks, пинг/латентность, занятость портов, алерты).

> Этот репозиторий содержит **только описание и документацию**.

- **Стек:** Docker, Docker Compose, Xray (VLESS + Reality), Python (aiogram), Linux (Ubuntu)
- **Период:** 07.2025 — н.в.

---

## Что внутри репозитория
- [`docs/ARCHITECTURE.md`](docs/ARCHITECTURE.md) — компоненты, ответственность, потоки, границы.
- [`docs/RUNBOOK.md`](docs/RUNBOOK.md) — как диагностировать и чинить типовые инциденты.
- [`docs/SECURITY.md`](docs/SECURITY.md) — модель угроз, секреты, харденинг.
- [`docs/ROADMAP.md`](docs/ROADMAP.md) — что запланировано дальше.

---

## Краткое описание дизайна

**Компоненты:**
- **Xray (VLESS + Reality)** — приём входящих соединений, шифрование/маскировка (SNI указывает на публичный хост).
- **Telegram-бот (aiogram)** — выдаёт пользователю строку подключения (на основе UUID/PBK/shortId/SNI/flow), проверяет доступность сервиса (TCP-коннект/пинг), шлёт алерты.
- **Docker Compose** — оркестрация двух контейнеров; рестарт-политики; базовые health-проверки со стороны бота.

**Операционная логика (на высоком уровне, без кода):**
- Запрос реквизитов → бот формирует `vless://…` ссылку **на основе переменных окружения/хранилища секретов**.
- Проверки здоровья → бот периодически/по команде тестирует TCP-доступность `XRAY_HOST:XRAY_PORT`, метит латентность, при сбоях — алерт.
- Журналы → минимально необходимые, без чувствительных данных.

---

## Риски и смягчения
- **Ошибки конфигурации/секретов** → валидация при старте, чек-листы в Runbook.
- **Сетевые блокировки/брандмауэр** → минимальные открытые порты, проверка inbound/outbound правил, альтернативные порты.
- **Ротация ключей/UUID** → процедура в Runbook, журнал изменений в Roadmap/Changelog.
- **Утечки** → секреты только в переменных окружения/Secret-хранилище; в репозитории — ни ключей, ни UUID.
